---
title: "infer package"
author: "Dr. Shirin Glander"
date: "6 6 2018"
output: html_document
---



<p><a href="http://infer.netlify.com/" class="uri">http://infer.netlify.com/</a> <a href="http://infer-dev.netlify.com/" class="uri">http://infer-dev.netlify.com/</a></p>
<pre class="r"><code>#install.packages(&quot;infer&quot;)
library(infer)
library(tidyverse)</code></pre>
<pre class="r"><code>mtcars &lt;- as.data.frame(mtcars) %&gt;%
  mutate(cyl = factor(cyl),
          vs = factor(vs),
          am = factor(am),
          gear = factor(gear),
          carb = factor(carb))</code></pre>
<pre class="r"><code>mtcars %&gt;%
  specify(am ~ vs, success = &quot;1&quot;) %&gt;%
  hypothesize(null = &quot;independence&quot;) %&gt;%
  generate(reps = 100, type = &quot;permute&quot;) %&gt;%
  calculate(stat = &quot;diff in props&quot;, order = c(&quot;1&quot;, &quot;0&quot;))</code></pre>
<pre class="r"><code>mtcars %&gt;%
  specify(response = mpg, explanatory = am) %&gt;%
  generate(reps = 100, type = &quot;bootstrap&quot;) %&gt;%
  calculate(stat = &quot;diff in means&quot;, order = c(&quot;1&quot;, &quot;0&quot;))</code></pre>
<pre class="r"><code>library(nycflights13)
library(dplyr)
library(ggplot2)
library(stringr)
library(infer)
set.seed(2017)
fli_small &lt;- flights %&gt;% 
  na.omit() %&gt;% 
  sample_n(size = 500) %&gt;% 
  mutate(season = case_when(
    month %in% c(10:12, 1:3) ~ &quot;winter&quot;,
    month %in% c(4:9) ~ &quot;summer&quot;
  )) %&gt;% 
  mutate(day_hour = case_when(
    between(hour, 1, 12) ~ &quot;morning&quot;,
    between(hour, 13, 24) ~ &quot;not morning&quot;
  )) %&gt;% 
  select(arr_delay, dep_delay, season, 
         day_hour, origin, carrier)</code></pre>
<pre class="r"><code>obs_chisq &lt;- fli_small %&gt;% 
  chisq_test(formula = origin ~ season) %&gt;% 
  dplyr::select(statistic) %&gt;% 
  dplyr::pull()
obs_chisq</code></pre>
<pre class="r"><code>chisq_null_distn &lt;- fli_small %&gt;%
  specify(origin ~ season) %&gt;% # alt: response = origin, explanatory = season
  hypothesize(null = &quot;independence&quot;) %&gt;%
  generate(reps = 1000, type = &quot;permute&quot;) %&gt;%
  calculate(stat = &quot;Chisq&quot;)
chisq_null_distn %&gt;% visualize(obs_stat = obs_chisq, direction = &quot;greater&quot;)</code></pre>
