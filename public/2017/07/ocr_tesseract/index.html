

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.27 with theme Tranquilpeak 0.4.1-BETA">
    <title>How to do Optical Character Recognition (OCR) of non-English documents in R using Tesseract?</title>
    <meta name="author" content="Dr. Shirin Glander">
    <meta name="keywords" content="">

    <link rel="icon" href="img/favicon.png">
    

    
    <meta name="description" content="One of the many great packages of rOpenSci has implemented the open source engine Tesseract.
Optical character recognition (OCR) is used to digitize written or typed documents, i.e. photos or scans of text documents are &ldquo;translated&rdquo; into a digital text on your computer.
While this might seem like a trivial task at first glance, because it is so easy for our human brains. When reading text, we make use of our built-in word and sentence &ldquo;autocomplete&rdquo; that we learned from experience.">
    <meta property="og:description" content="One of the many great packages of rOpenSci has implemented the open source engine Tesseract.
Optical character recognition (OCR) is used to digitize written or typed documents, i.e. photos or scans of text documents are &ldquo;translated&rdquo; into a digital text on your computer.
While this might seem like a trivial task at first glance, because it is so easy for our human brains. When reading text, we make use of our built-in word and sentence &ldquo;autocomplete&rdquo; that we learned from experience.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="How to do Optical Character Recognition (OCR) of non-English documents in R using Tesseract?">
    <meta property="og:url" content="/2017/07/ocr_tesseract/">
    <meta property="og:site_name" content="Shirin&#39;s playgRound">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Shirin&#39;s playgRound">
    <meta name="twitter:description" content="One of the many great packages of rOpenSci has implemented the open source engine Tesseract.
Optical character recognition (OCR) is used to digitize written or typed documents, i.e. photos or scans of text documents are &ldquo;translated&rdquo; into a digital text on your computer.
While this might seem like a trivial task at first glance, because it is so easy for our human brains. When reading text, we make use of our built-in word and sentence &ldquo;autocomplete&rdquo; that we learned from experience.">
    
      <meta name="twitter:creator" content="@ShirinGlander">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=640">
    

    
      <meta property="og:image" content="/img/text_analysis/2017/07/17/ocr_tesseract_files/figure-markdown_github/unnamed-chunk-16-1.png">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-fpbzgxsy0kgmdvyrj5ykkg6ratccrk3gocmaqn4xpcjywmv5dteilzucro4f.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Shirin&#39;s playgRound</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <h1 class="sidebar-profile-title">How to do Optical Character Recognition (OCR) of non-English documents in R using Tesseract?</h1>
        <a href="/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Dr. Shirin Glander</h4>
        
          <h5 class="sidebar-profile-bio">Biologist turned Bioinformatician turned Data Scientist</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives/">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/page/about/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/ShirinG">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/6623620/shirin-glander">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.r-bloggers.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-book"></i>
      
      <span class="sidebar-button-desc">R-bloggers</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      How to do Optical Character Recognition (OCR) of non-English documents in R using Tesseract?
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-07-17T00:00:00Z">
        
  July 17, 2017

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/text-analysis">text analysis</a>
    
  


  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              

<p>One of the many great packages of rOpenSci has implemented <a href="https://ropensci.org/blog/blog/2016/11/16/tesseract">the open source engine Tesseract</a>.</p>

<p>Optical character recognition (OCR) is used to digitize written or typed documents, i.e. photos or scans of text documents are &ldquo;translated&rdquo; into a digital text on your computer.</p>

<p>While this might seem like a trivial task at first glance, because it is so easy for our human brains. When reading text, we make use of our built-in word and sentence &ldquo;autocomplete&rdquo; that we learned from experience. But the same task is really quite difficult for a computer to recognize typed words correctly, especially if the document is of low quality.</p>

<p>One of the best open-source engines today is <a href="https://github.com/tesseract-ocr">Tesseract</a>. You can run tesseract from the command-line or - with the help of rOpenSci&rsquo;s <strong>tesseract</strong> package - run it conveniently from within R!</p>

<p>Tesseract uses language specific training data to optimize OCR based on learned context. Therefore, it is much better at recognizing words in coherent sentences than at recognizing single words or abbreviations (we can see this e.g. with address lines in documents).</p>

<p>The default language is English, and you can find numerous examples on how to run OCR with this default. But running tesseract with a different language turned out to need a few additional tweaks, which I want to present here.</p>

<p><br></p>

<h2 id="installing-tesseract">Installing tesseract</h2>

<p>Check out the <a href="https://ropensci.org/blog/blog/2016/11/16/tesseract">package vignette</a> for instructions on how to install the libtesseract C++ library and the <strong>tesseract</strong> R package on your computer.</p>

<pre><code class="language-r">library(tesseract)
</code></pre>

<p>Because I&rsquo;m German and will therefore use a German scanned document as an example, I first needed to install the German training dataset. Even though I installed it together with tesseract (the command-line tool), I still had to install it again for use with R:</p>

<p>If you happen to get an error, that it still didn&rsquo;t find the correct language data where it expected (as I did), note the path that is given in the error message. This tells you where it looks for the training data and you can simply download the training data manually and copy it to the given path.</p>

<p>Here again, you need to make sure that you download training data for the correct version of tesseract. The <a href="https://github.com/tesseract-ocr/tessdata">link that is given in the package documentation</a> turned out to point to a different version of tesseract than I was using. If this is the case, you will get a warning (<em>Params model::Incomplete line</em>) when running <code>ocr</code>().</p>

<p>As you can see, I had Tesseract version 3 installed:</p>

<pre><code>system(&quot;tesseract --version&quot;)
tesseract 3.05.01
 leptonica-1.74.1
  libjpeg 8d : libpng 1.6.29 : libtiff 4.0.8 : zlib 1.2.8
</code></pre>

<p>So, I also needed to download the training data for version 3 (the default is for version 4), which you can <a href="https://github.com/tesseract-ocr/tessdata/tree/3.04.00">find here</a> and copy it to tesseracts language folder.</p>

<p><br></p>

<h2 id="image-processing">Image processing</h2>

<p>Image quality is essential for good OCR! Tesseract performs different image processing steps internally with the Leptonica library but it is still a good idea to <a href="https://github.com/tesseract-ocr/tesseract/wiki/ImproveQuality">improve the image manually before running tesseract</a>.</p>

<p>Here, I am using two random images from the internet:</p>

<ol>
<li><p>a <a href="http://www.manualsdir.eu/manuals/375646/brother-dcp-115c-dcp-120c-mfc-820cw-mfc-640cw-mfc-215c-dcp-315cn-mfc-425cn-dcp-340cw.html">manual for a printer</a> and</p></li>

<li><p>a <a href="http://spiele.j-crew.de/wiki/Scan:9q_r%C3%A4t.pdf/4">description of a game</a></p></li>
</ol>

<p>Image nr. 1 is machine-generated and should therefore yield much better results than image nr. 2, which looks like it was typewriter-written and moreover, is skewed.</p>

<p>This, we can also do from within R, making use of another one of rOpenSci&rsquo;s packages: <a href="https://cran.r-project.org/web/packages/magick/vignettes/intro.html"><strong>magick</strong></a>.</p>

<p>However, it seems that <strong>magick</strong> doesn&rsquo;t have a function that converts an image to black and white, so I am using <strong>EBImage</strong> first. Because <strong>magick</strong> wants an magick image object for input, I saved the black-and-white image first and then read it in again with <code>image_read()</code>. This isn&rsquo;t exactly an elegant solution, so if someone knows of a better way to do this, please let me know!</p>

<pre><code class="language-r">library(EBImage) # install from Bioconductor!
</code></pre>

<pre><code class="language-r">color.image &lt;- readImage(&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan.png&quot;)
bw.image &lt;- channel(color.image,&quot;gray&quot;)
writeImage(bw.image,file=&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_bw.png&quot;)
</code></pre>

<pre><code class="language-r">color.image &lt;- readImage(&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_2.jpg&quot;)
bw.image &lt;- channel(color.image,&quot;gray&quot;)
writeImage(bw.image,file=&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_2_bw.jpg&quot;)
</code></pre>

<pre><code class="language-r">library(magick)
image1 &lt;- image_read(&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_bw.png&quot;)
image2 &lt;- image_read(&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_2_bw.jpg&quot;)
</code></pre>

<p>Now, we can follow <a href="https://github.com/tesseract-ocr/tesseract/wiki/ImproveQuality">Tesseract&rsquo;s guidelines on how to improve image quality</a>:</p>

<pre><code class="language-r">library(tidyverse)
</code></pre>

<pre><code class="language-r">image_bearb1 &lt;- image1 %&gt;%
    image_scale(&quot;x2000&quot;) %&gt;%                        # rescale
    image_background(&quot;white&quot;, flatten = TRUE) %&gt;%   # set background to white
    image_trim() %&gt;%                                # Trim edges that are the background color from the image.
    image_noise() %&gt;%                               # Reduce noise in image using a noise peak elimination filter
    image_enhance() %&gt;%                             # Enhance image (minimize noise)
    image_normalize() %&gt;%                           # Normalize image (increase contrast by normalizing the pixel values to span the full range of color values).
    image_contrast(sharpen = 1) %&gt;%                 # increase contrast
    image_deskew(treshold = 40)                     # deskew image -&gt; creates negative offset in some scans
</code></pre>

<pre><code class="language-r">image_bearb2 &lt;- image2 %&gt;%
    image_scale(&quot;x2000&quot;) %&gt;%                        # rescale
    image_background(&quot;white&quot;, flatten = TRUE) %&gt;%   # set background to white
    image_trim() %&gt;%                                # Trim edges that are the background color from the image.
    image_noise() %&gt;%                               # Reduce noise in image using a noise peak elimination filter
    image_enhance() %&gt;%                             # Enhance image (minimize noise)
    image_normalize() %&gt;%                           # Normalize image (increase contrast by normalizing the pixel values to span the full range of color values).
    image_contrast(sharpen = 1) %&gt;%                 # increase contrast
    image_deskew(treshold = 40)                     # deskew image -&gt; creates negative offset in some scans
</code></pre>

<p>If we want to inspect our images from within R, we can use <strong>magick</strong>&rsquo;s <code>image_browse()</code> function.</p>

<pre><code class="language-r">image_browse(image_bearb2)
</code></pre>

<p><br></p>

<h2 id="ocr">OCR</h2>

<p>Tesseract&rsquo;s central function is called <code>ocr()</code>.</p>

<p>For some reason, I couldn&rsquo;t solve the error message I got when directly pointing the processed images to the <code>ocr()</code> function: <code>Magick: TIFF: negative image positions unsupported</code>. This error results from <code>image_deskew()</code> but all potential solutions don&rsquo;t seem to be implemented with the R package of ImageMagick, so I had to resort to a work-around: I saved the images first and then pointed <code>ocr()</code> to the images. This worked without a hitch!</p>

<pre><code class="language-r">image_write(image_bearb1, path = &quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_bearb.png&quot;, format = &quot;png&quot;)
image_write(image_bearb2, path = &quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_2_bearb.jpg&quot;, format = &quot;jpg&quot;)
</code></pre>

<p>When we are not working with an English document, we can specify the language with the <code>engine = tesseract(language = &quot;deu&quot;)</code> option. We can also set a whole <a href="http://www.sk-spell.sk.cx/tesseract-ocr-parameters-in-302-version">range of parameters</a> but for now, I will only show how to use a whitelist: by specifying characters in a whitelist, tesseract will only look for these in the document. You can e.g. use this if you only expect numbers in you document. Here I am not being very restrictive, though&hellip;</p>

<pre><code class="language-r">whitelist &lt;- &quot;1234567890-.,;:qwertzuiopüasdfghjklöäyxcvbnmQWERTZUIOPÜASDFGHJKLÖÄYXCVBNM@ß€!$%&amp;/()=?+&quot;

text1 &lt;- ocr(&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_bearb.png&quot;,
             engine = tesseract(language = &quot;deu&quot;,
                                options = list(tessedit_char_whitelist = whitelist)))

text2 &lt;- ocr(&quot;/Users/shiringlander/Documents/Github/Blog_posts_prep/ocr/beispiel_scan_2_bearb.jpg&quot;,
             engine = tesseract(language = &quot;deu&quot;,
                                options = list(tessedit_char_whitelist = whitelist)))
</code></pre>

<p><br></p>

<h2 id="performance-evaluation">Performance evaluation</h2>

<p>Evaluating how good our model performed isn&rsquo;t trivial either. While we as humans can very easily judge the accuracy of our digitzed text just by looking at it, we need a standardized and automated way to evaluate model performance.</p>

<p>One way would be to manually transcribe your document and check it against the text that tesseract extracted. However, this is very labor-intensive and time-consuming, especially when you&rsquo;re working with a large number of documents!</p>

<p>Another, slightly less arduous way would be to create a list of relevant words that we want to have recognized. This could be adapted to include any list of given words that are important for you to be recognized (if you wanted to be able to search for them among your documents, for example).</p>

<p>Or, as I am going to do here, we can go a much easier way and compare the words that tesseract recognized to a list of words from a dictionary to get an idea about how many of them are actual words. This is of course not without problems: Some words may not be in our dictionary or they are borrowed from another language, they might be names of people or places, addresses, abbreviations, etc. Also, because we don&rsquo;t have a benchmark for our document, we will only get an estimation of how many words were correctly recognized. But we can really only compare different tesseract models against each other with this method.</p>

<p>Because we use different grammatical forms of words, we also want to stem both our recognized words and the dictionary before comparing them!</p>

<p>Here, I am using the <a href="https://www.openthesaurus.de/about/download">German Open Thesaurus</a>.</p>

<p>To separate the text and the dictionary into distinct words, I am using the <strong>tidytext</strong> package together with <strong>SnowballC</strong> for word stemming. Finally, I am going to remove duplicate entries.</p>

<pre><code class="language-r">library(tidytext)
library(SnowballC)

openthes &lt;- data.frame(words = read_lines(&quot;/Users/shiringlander/Documents/Projekte/OCR_Provinzial/German_dict/OpenThesaurus-Textversion/openthesaurus.txt&quot;, skip = 18)) %&gt;%
  mutate(words = as.character(words)) %&gt;%
  unnest_tokens(word, words) %&gt;%
  mutate(word = wordStem(word, language = &quot;deu&quot;)) %&gt;%
  distinct()
</code></pre>

<p>This leaves us with 77453 German reference words.</p>

<p>Now, we can do the same with our tesseract output.</p>

<pre><code class="language-r">text_1_df &lt;- data.frame(text = read.delim(textConnection(text1),    # make text into dataframe
                                          header = FALSE, 
                                          sep = &quot;\n&quot;, 
                                          strip.white = TRUE)) %&gt;%
  mutate(text = as.character(V1)) %&gt;%
  unnest_tokens(word, text) %&gt;%                                      # separate words
  mutate(word = wordStem(word, language = &quot;deu&quot;))                    # use word stem

text_2_df &lt;- data.frame(text = read.delim(textConnection(text2),    # make text into dataframe
                                          header = FALSE, 
                                          sep = &quot;\n&quot;, 
                                          strip.white = TRUE)) %&gt;%
  mutate(text = as.character(V1)) %&gt;%
  unnest_tokens(word, text) %&gt;%                                      # separate words
  mutate(word = wordStem(word, language = &quot;deu&quot;))                    # use word stem
</code></pre>

<p>To get an estimate about model performance, I am then counting how many of the words that were recognized in each document are also part of the German dictionary (and therefore likely to be real words) and plot the results.</p>

<pre><code class="language-r">res1 &lt;- text_1_df %&gt;%
    mutate(in_dict = ifelse(word %in% openthes$word, TRUE, FALSE)) %&gt;%
    count(in_dict) %&gt;%
    mutate(percent = n / nrow(text_1_df) * 100,
           image = &quot;image 1&quot;)

res2 &lt;- text_2_df %&gt;%
    mutate(in_dict = ifelse(word %in% openthes$word, TRUE, FALSE)) %&gt;%
    count(in_dict) %&gt;%
    mutate(percent = n / nrow(text_2_df) * 100,
           image = &quot;image 2&quot;)
</code></pre>

<p><img src="/img/text_analysis/2017/07/17/ocr_tesseract_files/figure-markdown_github/unnamed-chunk-16-1.png" alt="" /></p>

<p>Between 80 and 90% of recognized words seem to be actual words!</p>

<p>Of course, the less &ldquo;standard&rdquo; a document is, the more difficult it will be to extract text correctly but I&rsquo;d say this isn&rsquo;t bad for a first attempt!</p>

<hr />

<p><br></p>

<pre><code class="language-r">sessionInfo()
</code></pre>

<pre><code>## R version 3.4.0 (2017-04-21)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS Sierra 10.12.5
## 
## Matrix products: default
## BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] de_DE.UTF-8/de_DE.UTF-8/de_DE.UTF-8/C/de_DE.UTF-8/de_DE.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] bindrcpp_0.2    SnowballC_0.5.1 tidytext_0.1.3  dplyr_0.7.1    
##  [5] purrr_0.2.2.2   readr_1.1.1     tidyr_0.6.3     tibble_1.3.3   
##  [9] ggplot2_2.2.1   tidyverse_1.1.1 magick_0.4      EBImage_4.18.0 
## [13] tesseract_1.4  
## 
## loaded via a namespace (and not attached):
##  [1] locfit_1.5-9.1      reshape2_1.4.2      haven_1.1.0        
##  [4] lattice_0.20-35     colorspace_1.3-2    htmltools_0.3.6    
##  [7] yaml_2.1.14         rlang_0.1.1         foreign_0.8-69     
## [10] glue_1.1.1          RColorBrewer_1.1-2  BiocGenerics_0.22.0
## [13] modelr_0.1.0        readxl_1.0.0        jpeg_0.1-8         
## [16] bindr_0.1           plyr_1.8.4          stringr_1.2.0      
## [19] cellranger_1.1.0    munsell_0.4.3       gtable_0.2.0       
## [22] rvest_0.3.2         psych_1.7.5         evaluate_0.10.1    
## [25] labeling_0.3        knitr_1.16          forcats_0.2.0      
## [28] parallel_3.4.0      tokenizers_0.1.4    broom_0.4.2        
## [31] Rcpp_0.12.11        backports_1.1.0     scales_0.4.1       
## [34] jsonlite_1.5        abind_1.4-5         mnormt_1.5-5       
## [37] hms_0.3             png_0.1-7           digest_0.6.12      
## [40] stringi_1.1.5       tiff_0.1-5          grid_3.4.0         
## [43] rprojroot_1.2       tools_3.4.0         magrittr_1.5       
## [46] lazyeval_0.2.0      janeaustenr_0.1.5   pkgconfig_2.0.1    
## [49] Matrix_1.2-10       xml2_1.1.1          lubridate_1.6.0    
## [52] assertthat_0.2.0    rmarkdown_1.6       httr_1.2.1         
## [55] R6_2.2.2            fftwtools_0.9-8     nlme_3.1-131       
## [58] compiler_3.4.0
</code></pre>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="//tags/text-analysis/">text analysis</a>

  <a class="tag tag--primary tag--small" href="//tags/tesseract/">tesseract</a>

  <a class="tag tag--primary tag--small" href="//tags/ocr/">ocr</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/07/twitter-analysis-codecentric/" data-tooltip="Social Network Analysis and Topic Modeling of codecentric’s Twitter friends and followers">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/06/data-science-business-forecasting-3/" data-tooltip="Data Science for Business - Time Series Forecasting Part 3: Forecasting with Facebook&#39;s Prophet">
              
                <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/07/ocr_tesseract/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/07/ocr_tesseract/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/07/ocr_tesseract/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2017 Dr. Shirin Glander. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/07/twitter-analysis-codecentric/" data-tooltip="Social Network Analysis and Topic Modeling of codecentric’s Twitter friends and followers">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2017/06/data-science-business-forecasting-3/" data-tooltip="Data Science for Business - Time Series Forecasting Part 3: Forecasting with Facebook&#39;s Prophet">
              
                <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/07/ocr_tesseract/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/07/ocr_tesseract/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/07/ocr_tesseract/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2017%2F07%2Focr_tesseract%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2017%2F07%2Focr_tesseract%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2017%2F07%2Focr_tesseract%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Dr. Shirin Glander</h4>
    
      <div id="about-card-bio">Biologist turned Bioinformatician turned Data Scientist</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Data Scientist
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Münster, Germany
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/09/moving-my-blog-to-blogdown/">
                <h3 class="media-heading">Moving my blog to blogdown</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">It’s been a long time coming but I finally finished moving my blog from Jekyll and Bootstrap to blogdown and Hugo! Yay!!!
Just to test that everything works, I run the example code:
R Markdown This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.
You can embed an R code chunk like this:</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/09/data-science-fraud-detection/">
                <h3 class="media-heading">Data Science for Fraud Detection</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I have written the following post about Data Science for Fraud Detection at my company codecentric&rsquo;s blog:
 Fraud can be defined as “the crime of getting money by deceiving people” (Cambridge Dictionary); it is as old as humanity: whenever two parties exchange goods or conduct business there is the potential for one party scamming the other. With an ever increasing use of the internet for shopping, banking, filing insurance claims, etc.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/09/migrating-github-gitlab/">
                <h3 class="media-heading">Migrating from GitHub to GitLab with RStudio (Tutorial)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">GitHub vs. GitLab Git is a distributed implementation of version control. Many people have written very eloquently about why it is a good idea to use version control, not only if you collaborate in a team but also if you work on your own; one example is this article from RStudio&rsquo;s Support pages.
In short, its main feature is that version control allows you to keep track of the changes you make to your code.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/07/twitter-analysis-codecentric/">
                <h3 class="media-heading">Social Network Analysis and Topic Modeling of codecentric’s Twitter friends and followers</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I have written the following post about Social Network Analysis and Topic Modeling of codecentric&rsquo;s Twitter friends and followers for codecentric&rsquo;s blog:
 Recently, Matthias Radtke has written a very nice blog post on Topic Modeling of the codecentric Blog Articles, where he is giving a comprehensive introduction to Topic Modeling. In this article I am showing a real-world example of how we can use Data Science to gain insights from text data and social network analysis.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/07/ocr_tesseract/">
                <h3 class="media-heading">How to do Optical Character Recognition (OCR) of non-English documents in R using Tesseract?</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">One of the many great packages of rOpenSci has implemented the open source engine Tesseract.
Optical character recognition (OCR) is used to digitize written or typed documents, i.e. photos or scans of text documents are &ldquo;translated&rdquo; into a digital text on your computer.
While this might seem like a trivial task at first glance, because it is so easy for our human brains. When reading text, we make use of our built-in word and sentence &ldquo;autocomplete&rdquo; that we learned from experience.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/06/data-science-business-forecasting-3/">
                <h3 class="media-heading">Data Science for Business - Time Series Forecasting Part 3: Forecasting with Facebook&#39;s Prophet</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jun 6, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">In my last two posts (Part 1 and Part 2), I explored time series forecasting with the timekit package.
In this post, I want to compare how Facebook&rsquo;s prophet performs on the same dataset.

Predicting future events/sales/etc. isn&rsquo;t trivial for a number of reasons and different algorithms use different approaches to handle these problems. Time series data does not behave like a regular numeric vector, because months don&rsquo;t have the same number of days, weekends and holidays differ between years, etc.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/06/data-science-business-forecasting-2/">
                <h3 class="media-heading">Data Science for Business - Time Series Forecasting Part 2: Forecasting with timekit</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jun 6, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">In my last post, I prepared and visually explored time series data.
Now, I will use this data to test the timekit package for time series forecasting with machine learning.

Forecasting In time series forecasting, we use models to predict future time points based on past observations.
As mentioned in timekit&rsquo;s vignette, &ldquo;as with most machine learning applications, the prediction is only as good as the patterns in the data.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2017/05/data-science-business-forecasting-1/">
                <h3 class="media-heading">Data Science for Business - Time Series Forecasting Part 1: EDA &amp; Data Preparation</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Data Science is a fairly broad term and encompasses a wide range of techniques from data visualization to statistics and machine learning models. But the techniques are only tools in a - sometimes very messy - toolbox. And while it is important to know and understand these tools, here, I want to go at it from a different angle: What is the task at hand that data science tools can help tackle, and what question do we want to have answered?</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2016/09/expranalyis-package/">
                <h3 class="media-heading">exprAnalysis package</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2016
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I created the R package exprAnalysis designed to streamline my RNA-seq data analysis pipeline. Below you find the vignette for installation and usage of the package.

This package combines functions from various packages used to analyze and visualize expression data from NGS or expression chips.
 It supports normalized input as e.g. from Cufflinks or expression chip arrays and raw count data from bam file input. It supports mRNA, miRNA, protein or other expression data.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2013/02/image-gallery-showcase/">
                <h3 class="media-heading">Image gallery showcase</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2013
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>And here is the image gallery!
</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         11 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('/images/cover.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" integrity="sha256-IFHWFEbU2/+wNycDECKgjIRSirRNIDp2acEB5fvdVRU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js" integrity="sha256-+mpyNVJsNt4rVXCw0F+pAOiB3YxmHgrbJsx4ecPuUaI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js" integrity="sha256-vMxgR/7FtLovVA+IPrR7+xTgIgARH7y9VZQnmmi0HDI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.js" integrity="sha256-N0qFUh7/9vLvia87dDndewmsgsyYoNkdA212tPc+2NI=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>

  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2017\/07\/ocr_tesseract\/';
          
            this.page.identifier = '\/2017\/07\/ocr_tesseract\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'shirinsplayground';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

