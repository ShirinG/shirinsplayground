

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.27 with theme Tranquilpeak 0.4.1-BETA">
    <title>Baby Weight Shiny app</title>
    <meta name="author" content="Dr. Shirin Elsinghorst">
    <meta name="keywords" content=", R">

    <link rel="icon" href="img/favicon.png">
    

    
    <meta name="description" content="Alright, this is it: I am officially back! :-D
I have not written any blogposts for over a year. Last year, I had the cutest baby boy and ever since then, I did not get around to doing much coding. One of the reasons was that, unfortunately, we did not have the easiest of starts with the little one. Feeding problems led to weight gain problems, so we had to weigh him regularly.">
    <meta property="og:description" content="Alright, this is it: I am officially back! :-D
I have not written any blogposts for over a year. Last year, I had the cutest baby boy and ever since then, I did not get around to doing much coding. One of the reasons was that, unfortunately, we did not have the easiest of starts with the little one. Feeding problems led to weight gain problems, so we had to weigh him regularly.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Baby Weight Shiny app">
    <meta property="og:url" content="/2020/09/baby_weight_app/">
    <meta property="og:site_name" content="Shirin&#39;s playgRound">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Shirin&#39;s playgRound">
    <meta name="twitter:description" content="Alright, this is it: I am officially back! :-D
I have not written any blogposts for over a year. Last year, I had the cutest baby boy and ever since then, I did not get around to doing much coding. One of the reasons was that, unfortunately, we did not have the easiest of starts with the little one. Feeding problems led to weight gain problems, so we had to weigh him regularly.">
    
      <meta name="twitter:creator" content="@ShirinGlander">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=640">
    

    
      <meta property="og:image" content="/post/2020-09-08_baby_weight_app_files/figure-html/unnamed-chunk-8-1.png">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-hbs5om8csx9a8yrv5hnhpi2qqdv4ykuslajwbramhqxvleqbfklxgek50hye.min.css" />
    
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-86119417-1', 'auto');
ga('send', 'pageview');
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Shirin&#39;s playgRound</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <h1 class="sidebar-profile-title">Baby Weight Shiny app</h1>
        <a href="https://blog.feedspot.com/r_programming_blogs/" rel="nofollow" title="R Programming Blogs"><img alt="R Programming Blogs" src="https://blog.feedspot.com/wp-content/uploads/2018/04/r_program_216px.png?x20694"/></a>
        <a href="/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Dr. Shirin Elsinghorst</h4>
        
          <h5 class="sidebar-profile-bio">Biologist turned Bioinformatician turned Data Scientist</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/page/about/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/page/bookme/">
    
      <i class="sidebar-button-icon fa fa-lg fa-calendar"></i>
      
      <span class="sidebar-button-desc">Book me</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/page/conferences_podcasts_webinars/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Hear me talk</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/archives/">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://shiring.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">My old R-blog</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/ShirinG">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/6623620/shirin-glander">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/ShirinGlander">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/shirin-glander-01120881/">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.xing.com/profile/Shirin_Elsinghorst/cv">
    
      <i class="sidebar-button-icon fa fa-lg fa-xing"></i>
      
      <span class="sidebar-button-desc">Xing</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.meetup.com/Munster-R-Users-Group">
    
      <i class="sidebar-button-icon fa fa-lg fa-meetup"></i>
      
      <span class="sidebar-button-desc">MünsteR</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.r-bloggers.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-book"></i>
      
      <span class="sidebar-button-desc">R-bloggers</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.r-users.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-book"></i>
      
      <span class="sidebar-button-desc">R-users</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.womentech.net/women-tech-conference?join=ODMzOQ==">
    
      <i class="sidebar-button-icon fa fa-lg fa-wifi"></i>
      
      <span class="sidebar-button-desc">WomenInTech</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.codecentric.de/kuenstliche-intelligenz/">
    
      <i class="sidebar-button-icon fa fa-lg fa-angle-double-right"></i>
      
      <span class="sidebar-button-desc">codecentric.ai</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      Baby Weight Shiny app
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2020-09-07T00:00:00Z">
        
  September 7, 2020

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/r">R</a>
    
  


  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>Alright, this is it: I am officially back! :-D</p>
<p>I have not written any blogposts for over a year. Last year, I had the cutest baby boy and ever since then, I did not get around to doing much coding. One of the reasons was that, unfortunately, we did not have the easiest of starts with the little one. Feeding problems led to weight gain problems, so we had to weigh him regularly. Because I wanted to see for myself if we were on the right track with his weight gain, I created this <a href="https://shiring.shinyapps.io/who_baby_weight/">Baby Weight Shiny app</a>. With the app, I could easily visualize how we compared to the <a href="https://www.who.int/childgrowth/standards/weight_for_age/en/">WHO baby/childen weight-for-age tables</a>.</p>
<p>Below, I’ll describe how I prepared the data and built the plots. The entire code for building the app can be found on <a href="https://github.com/ShirinG/who_baby_weight_app">Github</a>.</p>
<p>If you have questions or would like to talk about the app (or something else data-related), you can now <a href="https://shirinsplayground.netlify.app/page/bookme/">book 15-minute timeslots</a> with me (it’s free - one slot available per weekday):</p>
<img src="https://www.appointletcdn.com/loader/buttons/F62459.png" data-appointlet-organization="shirin-elsinghorst" data-appointlet-service="357892">
<script src="https://www.appointletcdn.com/loader/loader.min.js" async="" defer=""></script>
<p><em>If you have been enjoying my content and would like to help me be able to create more, please consider sending me a donation at <button><a href="https://paypal.me/ShirinGlander">paypal.me</a></button>. Thank you!</em> :-)</p>
<p><br></p>
<hr />
<div id="reference-data" class="section level2">
<h2>Reference data</h2>
<p>I am using the following <a href="https://www.who.int/childgrowth/standards/weight_for_age/en/">WHO baby/childen weight-for-age tables</a>:</p>
<ul>
<li>Percentiles girls &amp; boys</li>
</ul>
<p>I combined girls’ and boys’ data into one table each for:</p>
<ul>
<li>Weight-for-age: <a href="https://github.com/ShirinG/who_baby_weight_app/blob/master/p_0_13.csv">Birth to 13 weeks</a></li>
<li>Weight-for-age: <a href="https://github.com/ShirinG/who_baby_weight_app/blob/master/p_0_5.csv">Birth to 5 years</a></li>
</ul>
</div>
<div id="adding-my-own-measurements" class="section level2">
<h2>Adding my own measurements</h2>
<p>I collected all our weight measurements in a <code>.csv</code> file with two columns:</p>
<ul>
<li>a <code>date</code> column in the format <code>%d.%m.%Y</code> (<code>dd.mm.yyyy</code>)</li>
<li>a <code>weight</code> column in <em>g</em> or <em>kg</em></li>
</ul>
<p><strong>The first row has to contain the birthdate and birthweight</strong>, as this is what’s used to calculate the growth percentile to follow. A baby’s birthweight will put them into a certain growth percentile (e.g. a boy who weighs around 3.3 kg at birth is closest to the 50th percentile, meaning that about 50% of boys his same age will be heavier and 50% will be lighter than he is). For a healthy weight gain, the baby’s weight curve is supposed to roughly follow a parallel line with this growth percentile.</p>
<p>Because, obviously, I am not going to make my son’s actual weight data available on the internet, I created some <a href="https://github.com/ShirinG/who_baby_weight_app/blob/master/data/weight_measures.csv">mock data</a>, similar to real-world examples (weight in <em>g</em>):</p>
<pre class="r"><code>library(readr)
library(lubridate)

# download from https://github.com/ShirinG/who_baby_weight_app/
weight_measures &lt;- read_delim(&quot;weight_measures.csv&quot;,
                            delim = &quot;,&quot;,
                            col_types = list(col_date(format = &quot;%d.%m.%Y&quot;), col_double()))
head(weight_measures)</code></pre>
<pre><code>## # A tibble: 6 x 2
##   date       weight
##   &lt;date&gt;      &lt;dbl&gt;
## 1 2019-08-12   3168
## 2 2019-08-16   3126
## 3 2019-08-17   3138
## 4 2019-08-18   3348
## 5 2019-08-20   3286
## 6 2019-08-22   3626</code></pre>
<p>In the <a href="https://shiring.shinyapps.io/who_baby_weight/">Baby Weight Shiny app</a>, you can upload this <a href="https://github.com/ShirinG/who_baby_weight_app/blob/master/data/weight_measures.csv">mock data</a> or your own data. Then choose:</p>
<ul>
<li>whether the columns in your <code>.csv</code> are separated by <strong>comma, semicolon or tabulator</strong></li>
<li>whether you want to show only reference values for the <strong>first 13 weeks</strong> or for the <strong>first 5 years</strong> (only reference values corresponding to your measurement dates will be shown)</li>
<li>whether your weight data is given in <strong>gramm or kilogramm</strong> and</li>
<li>whether you want to display reference data for <strong>girls or boys</strong></li>
</ul>
<p>You can then check to see if the data looks correct (tab: <em>Data</em>). The tabs <em>Curve</em> and <em>Barchart</em> show two plots. Below, I’ll describe how I prepared the data for plotting.</p>
</div>
<div id="data-preparation" class="section level2">
<h2>Data preparation</h2>
<p>First, I combined my weight measures with the reference tables from WHO. The function is saved in a <a href="https://github.com/ShirinG/who_baby_weight_app/">script on Github</a> for you to examine. The function code contains comments that describe what I’ve been doing. Here is the outcome:</p>
<pre class="r"><code>library(tidyverse)

# download from https://github.com/ShirinG/who_baby_weight_app/
source(&quot;combine_measures.R&quot;)
p_0_5 &lt;- read_csv(&quot;p_0_5.csv&quot;)
p_0_13 &lt;- read_csv(&quot;p_0_13.csv&quot;)
        
combine_measures_who_final &lt;- combine_measures_who(weight_measures, 
                                                   p_0_13, p_0_5,
                                                   age_range = &quot;0_5&quot;,
                                                   weight_in = &quot;g&quot;,
                                                   gender = &quot;boy&quot;)
head(combine_measures_who_final)</code></pre>
<pre><code>## # A tibble: 6 x 10
##   date       weight ref     percentile starting_p Month     L     M     S gender
##   &lt;date&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; 
## 1 2019-08-12   3.17 measur… measureme… P50           NA    NA    NA    NA &lt;NA&gt;  
## 2 2019-08-16   3.13 measur… measureme… P50           NA    NA    NA    NA &lt;NA&gt;  
## 3 2019-08-17   3.14 measur… measureme… P50           NA    NA    NA    NA &lt;NA&gt;  
## 4 2019-08-18   3.35 measur… measureme… P50           NA    NA    NA    NA &lt;NA&gt;  
## 5 2019-08-20   3.29 measur… measureme… P50           NA    NA    NA    NA &lt;NA&gt;  
## 6 2019-08-22   3.63 measur… measureme… P50           NA    NA    NA    NA &lt;NA&gt;</code></pre>
<p>In order to calculate weight data for every full week of life (to make the values comparable with the reference), I am interpolating weight values for every day with missing information (linear approximation).</p>
<pre class="r"><code># add missing dates for calculating weight change per week of life
reference_date &lt;- weight_measures$date[[1]]
end_date &lt;- weight_measures$date[[nrow(weight_measures)]]

starting_p &lt;- combine_measures_who_final %&gt;% 
  filter(date == reference_date) %&gt;%
  select(starting_p) %&gt;%
  .[[1]] %&gt;%
  .[1]
        
all_dates &lt;- seq(from = reference_date, to = end_date, by = &quot;day&quot;) %&gt;%
  as_tibble()
colnames(all_dates) = &quot;date&quot;
        
weight_measures_all &lt;- weight_measures %&gt;%
  full_join(all_dates, by = &quot;date&quot;) %&gt;%
  arrange(date)

## approximate missing values
weight_measures_all &lt;- weight_measures_all %&gt;%
  mutate(weight_approx = approx(weight, n = nrow(.))[[2]])
        
## add running week number
nos &lt;- rep(1:ceiling(nrow(weight_measures_all)/7), each = 7)
weight_measures_all$week &lt;- nos[1:nrow(weight_measures_all)]
        
## calculate sum over week
weight_measures_all &lt;- weight_measures_all %&gt;%
  mutate(diff_day = c(0, diff(weight_approx, lag = 1)),
         diff_week = c(rep(0, 7), diff(weight_approx, lag = 7)))</code></pre>
<p>I also want to know the month of life, so I am using <a href="https://github.com/ShirinG/who_baby_weight_app/">the following function</a> to do so:</p>
<pre class="r"><code># download from https://github.com/ShirinG/who_baby_weight_app/
source(&quot;elapsed_months.R&quot;)
weight_measures_all &lt;- weight_measures_all %&gt;%
  mutate(month = elapsed_months(date, reference_date))</code></pre>
</div>
<div id="the-curve" class="section level2">
<h2>The curve</h2>
<p>The first plot shows a simple lineplot with all reference curves (i.e. all WHO growth percentiles) and my measurements plotted against them. The plot in the Shiny app has been created with <strong>Plotly</strong>, so you can click on the legend to hide/show specific growth percentiles or zoom into specific areas on the plot.</p>
<pre class="r"><code>gender &lt;- &quot;boys&quot;
age &lt;- &quot;years 1 through 5&quot;
        
combine_measures_who_final %&gt;%
  ggplot(aes(date, weight,
             linetype = ref,
             color = percentile)) +
    geom_line() +
    geom_point() +
    labs(x = &quot;Date&quot;,
         y = &quot;Weight in kg&quot;,
         title = &quot;WHO child growth standard percentiles&quot;,
         subtitle = paste(&quot;Shown for&quot;, gender, age)) +
    theme_bw() +
    theme(legend.position = &quot;bottom&quot;)</code></pre>
<p><img src="/post/2020-09-08_baby_weight_app_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>test_curves &lt;- combine_measures_who_final %&gt;%
  filter(percentile == !!paste(starting_p)) %&gt;%
  left_join(select(weight_measures_all, date, weight_approx), by = &quot;date&quot;)

paste(&quot;Your reference percentile is:&quot;, starting_p)</code></pre>
<pre><code>## [1] &quot;Your reference percentile is: P50&quot;</code></pre>
<pre class="r"><code>paste(&quot;Correlation between your measurements and your reference percentile is:&quot;,
      round(cor(test_curves$weight, test_curves$weight_approx, use = &#39;complete.obs&#39;), digits = 5))</code></pre>
<pre><code>## [1] &quot;Correlation between your measurements and your reference percentile is: 0.98757&quot;</code></pre>
</div>
<div id="approximated-missing-values" class="section level2">
<h2>Approximated missing values</h2>
<p>The next plot is not shown in the Shiny app, but here I’ll include it to show how the interpolated weight values look like:</p>
<pre class="r"><code>weight_measures_all %&gt;%
  ggplot(aes(x = date)) +
    geom_line(aes(y = weight_approx), color = &quot;grey&quot;) +
    geom_point(aes(y = weight_approx), color = &quot;blue&quot;, size = 1, alpha = 0.6) +
    geom_point(aes(y = weight), color = &quot;red&quot;, size = 3, alpha = 0.6) +
    geom_point(data = weight_measures_all %&gt;% distinct(week, .keep_all = TRUE), 
               aes(x = date, y = weight_approx), 
               color = &quot;grey&quot;, size = 2, alpha = 0.6) +
    geom_label(data = weight_measures_all %&gt;% distinct(week, .keep_all = TRUE), 
               aes(x = date, y = weight_approx, label = week), 
               nudge_y = 500, alpha = 0.6) +
    labs(x = &quot;Date&quot;,
         y = &quot;Weight in gramm&quot;,
         title = &quot;Measured &amp; approximated weight values&quot;,
         subtitle = &quot;red: measured values; blue: approximated values; labels &amp; grey dots: week of life&quot;) +
    theme_bw()</code></pre>
<p><img src="/post/2020-09-08_baby_weight_app_files/figure-html/unnamed-chunk-10-1.png" width="960" /></p>
</div>
<div id="barchart" class="section level2">
<h2>Barchart</h2>
<p>The barchart, which you can find in the Shiny app, shows weekly weight differences, i.e. for every day the difference in weight compared to 7 days prior is calculated.</p>
<p>Bar colors show whether the weekly weight difference is above (blue) or below (red) the required minimum for <strong>BREASTFED</strong> babies given by <a href="https://www.stillkinder.de/gewicht-und-wachstum-von-gestillten-kindern/">this German site about breastfeeding</a>:</p>
<ul>
<li>in months 1 and 2, the minimum weight gain should be: 170 g</li>
<li>in months 3 and 4: 110 g</li>
<li>in months 5 and 6: 70 g and</li>
<li>from month 7 to 12: 40 g</li>
</ul>
<p><strong>Update:</strong> Based on <a href="https://github.com/ShirinG/who_baby_weight_app/pull/1#issue-482023764">a Github pull request</a> by <a href="https://github.com/latlio">latlio</a>, I changed the <code>ifelse</code> statement to <code>case_when</code> (thanks again for the contribution!).</p>
<pre class="r"><code>weight_measures_all &lt;- weight_measures_all %&gt;%
            mutate(color = case_when(
                month &lt;= 2 &amp; diff_week &gt;= 170 ~ &quot;ok&quot;,
                month == 3 &amp; diff_week &gt;= 110 ~ &quot;ok&quot;,
                month == 4 &amp; diff_week &gt;= 110 ~ &quot;ok&quot;,
                month == 5 &amp; diff_week &gt;= 70 ~ &quot;ok&quot;,
                month == 6 &amp; diff_week &gt;= 70 ~ &quot;ok&quot;,
                month &gt;= 7 &amp; diff_week &gt;= 40 ~ &quot;ok&quot;,
                TRUE ~ &quot;low&quot;))</code></pre>
<p>The actual plot in the Shiny app is again created with <strong>Plotly</strong>, so you can interact with the graph there.</p>
<pre class="r"><code>weight_measures_all %&gt;%
  ggplot(aes(x = date, y = diff_week)) +
    geom_bar(aes(fill = color), stat = &quot;identity&quot;) +
    geom_label(data = weight_measures_all %&gt;% distinct(week, .keep_all = TRUE), 
               aes(x = date, label = week), 
               nudge_y = 50, alpha = 0.6) +
    scale_fill_brewer(palette = &quot;Set1&quot;) +
    labs(x = &quot;Week of life&quot;,
         y = &quot;Weight difference in gramm&quot;,
         fill = &quot;Weight gain&quot;,
         title = &quot;Weekly weight differences&quot;,
         subtitle = &quot;(Approximated) weight for each day compared to weight at 7 days prior;\nlabels: week of life&quot;) +
    theme_bw()</code></pre>
<p><img src="/post/2020-09-08_baby_weight_app_files/figure-html/unnamed-chunk-13-1.png" width="960" /></p>
<p><br></p>
<hr />
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.0.2 (2020-06-22)
## Platform: x86_64-apple-darwin17.0 (64-bit)
## Running under: macOS Catalina 10.15.6
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] forcats_0.5.0   stringr_1.4.0   dplyr_1.0.2     purrr_0.3.4    
##  [5] tidyr_1.1.2     tibble_3.0.3    ggplot2_3.3.2   tidyverse_1.3.0
##  [9] lubridate_1.7.9 readr_1.3.1    
## 
## loaded via a namespace (and not attached):
##  [1] tidyselect_1.1.0   xfun_0.17          haven_2.3.1        colorspace_1.4-1  
##  [5] vctrs_0.3.4        generics_0.0.2     htmltools_0.5.0    yaml_2.2.1        
##  [9] utf8_1.1.4         blob_1.2.1         rlang_0.4.7        pillar_1.4.6      
## [13] withr_2.2.0        glue_1.4.2         DBI_1.1.0          RColorBrewer_1.1-2
## [17] dbplyr_1.4.4       modelr_0.1.8       readxl_1.3.1       lifecycle_0.2.0   
## [21] munsell_0.5.0      blogdown_0.20.1    gtable_0.3.0       cellranger_1.1.0  
## [25] rvest_0.3.6        evaluate_0.14      labeling_0.3       knitr_1.29        
## [29] fansi_0.4.1        broom_0.7.0        Rcpp_1.0.5         backports_1.1.9   
## [33] scales_1.1.1       jsonlite_1.7.1     farver_2.0.3       fs_1.5.0          
## [37] hms_0.5.3          digest_0.6.25      stringi_1.5.3      bookdown_0.20     
## [41] grid_4.0.2         cli_2.0.2          tools_4.0.2        magrittr_1.5      
## [45] crayon_1.3.4       pkgconfig_2.0.3    ellipsis_0.3.1     xml2_1.3.2        
## [49] reprex_0.3.0       rstudioapi_0.11    assertthat_0.2.1   rmarkdown_2.3     
## [53] httr_1.4.2         R6_2.4.1           compiler_4.0.2</code></pre>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="//tags/r/">R</a>

  <a class="tag tag--primary tag--small" href="//tags/shiny/">Shiny</a>

  <a class="tag tag--primary tag--small" href="//tags/tidyverse/">tidyverse</a>

  <a class="tag tag--primary tag--small" href="//tags/ggplot/">ggplot</a>

  <a class="tag tag--primary tag--small" href="//tags/plotly/">plotly</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2020/09/keras_fruits_update/" data-tooltip="Update with TF 2.0: Image classification with Keras and TensorFlow">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2019/06/meetup_july19/" data-tooltip="Word2Vec Text Mining &amp; Parallelization in R. Join MünsteR for our next meetup!">
              
                <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2020/09/baby_weight_app/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2020/09/baby_weight_app/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2020/09/baby_weight_app/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 <a href='https://shirin-elsinghorst.appointlet.com/s/15-minute-intro'>Dr. Shirin Elsinghorst</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2020/09/keras_fruits_update/" data-tooltip="Update with TF 2.0: Image classification with Keras and TensorFlow">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2019/06/meetup_july19/" data-tooltip="Word2Vec Text Mining &amp; Parallelization in R. Join MünsteR for our next meetup!">
              
                <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2020/09/baby_weight_app/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2020/09/baby_weight_app/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2020/09/baby_weight_app/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2020%2F09%2Fbaby_weight_app%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2020%2F09%2Fbaby_weight_app%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2020%2F09%2Fbaby_weight_app%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7f7f818e55624edfef8aa93860a1a3d4?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Dr. Shirin Elsinghorst</h4>
    
      <div id="about-card-bio">Biologist turned Bioinformatician turned Data Scientist</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Data Scientist
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Münster, Germany
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2020/10/goodbadugly/">
                <h3 class="media-heading">The Good, the Bad and the Ugly: how (not) to visualize data</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This is the complete code used to create the ggplot2 graphs in my talk The Good, the Bad and the Ugly: how (not) to visualize data at this year’s data2day conference. You can find the slides here.
If you have questions or would like to talk about this article (or something else data-related), you can now book 15-minute timeslots with me (it’s free - one slot available per weekday):
 If you have been enjoying my content and would like to help me be able to create more, please consider sending me a donation at paypal.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2020/09/keras_callbacks/">
                <h3 class="media-heading">Using Keras Callbacks</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This is article #3 in my recent series on how to get the most out of Keras. The two articles were:
Update with TF 2.0: Image classification with Keras and TensorFlow Whose dream is this? When and how to use the Keras Functional API  Keras comes with a number of built in callbacks.
Callbacks are useful for optimizing your training runs and are used with the fit() function
The model-checkpoint and early-stopping callbacks You can use callback_early_stopping to interrupt training once a target metric being monitored has stopped improving for a fixed number of epochs.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2020/09/keras_funct_api/">
                <h3 class="media-heading">Whose dream is this? When and how to use the Keras Functional API</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">I have been working with Keras for a while now, and I’ve also been writing quite a few blogposts about it; the most recent one being an update to image classification using TF 2.0.
However, in my blogposts I have always been using Keras sequential models and never shown how to use the Functional API. The reason is that the Functional API is usually applied when building more complex models, like multi-input or multi-output models.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2020/09/keras_fruits_update/">
                <h3 class="media-heading">Update with TF 2.0: Image classification with Keras and TensorFlow</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Recently, I have been getting a few comments on my old article on image classification with Keras, saying that they are getting errors with the code. And I have also gotten a few questions about how to use a Keras model to predict on new images (of different size). Instead of replying to them all individually, I decided to write this updated version using recent Keras and TensorFlow versions (all package versions and system information can be found at the bottom of this article, as usual).</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2020/09/baby_weight_app/">
                <h3 class="media-heading">Baby Weight Shiny app</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Alright, this is it: I am officially back! :-D
I have not written any blogposts for over a year. Last year, I had the cutest baby boy and ever since then, I did not get around to doing much coding. One of the reasons was that, unfortunately, we did not have the easiest of starts with the little one. Feeding problems led to weight gain problems, so we had to weigh him regularly.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2019/06/meetup_july19/">
                <h3 class="media-heading">Word2Vec Text Mining &amp; Parallelization in R. Join MünsteR for our next meetup!</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jun 6, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">In our next MünsteR R-user group meetup on Tuesday, July 9th, 2019, we will have two exciting talks about Word2Vec Text Mining &amp; Parallelization in R!
You can RSVP here: https://www.meetup.com/de-DE/Munster-R-Users-Group/events/262236134/
 Thorben Hellweg will talk about Parallelization in R. More information tba!
  Maren Reuter from viadee AG will give an introduction into the functionality and use of the Word2Vec algorithm in R.
  Text data in its raw form cannot be used as input for machine learning algorithms.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2019/04/consider_data_camp/">
                <h3 class="media-heading">Before you take my DataCamp course please consider this info</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Today, I am finally getting around to writing this very sad blog post: Before you take my DataCamp course please consider the following information about the sexual harassment scandal surrounding DataCamp!
UPDATE from April 26th: Yesterday, DataCamp’s CEO Jonathan Cornelissen issued an apology statement and the DataCamp Board of Directors wrote an update about the situation and next steps (albeit somewhat vague) they are planning to take in order to address the situation.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2019/03/upcoming_talks_spring2019/">
                <h3 class="media-heading">Upcoming talks in spring 2019</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">This spring, I’ll be giving talks at a couple of Meetups and conferences:

  March, 26th: At the data lounge Bremen, I’ll be talking about Explainable Machine Learning
 April, 11th: At the Data Science Meetup Bielefeld, I’ll be talking about Building Interpretable Neural Networks with Keras and LIME
  
  May, 14th: At the M3 conference in Mannheim, a colleague and I will give our workshop on building production-ready machine learning models with Keras, Luigi, DVC and TensorFlow Serving</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2019/03/meetup_april19/">
                <h3 class="media-heading">Getting started with RMarkdown &amp; trying to make it in the world of Kaggle. Join MünsteR for our next meetup!</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">In our next MünsteR R-user group meetup on Tuesday, April 9th, 2019, we will have two exciting talks: Getting started with RMarkdown and Trying to make it in the world of Kaggle!
You can RSVP here: http://meetu.ps/e/Gg5th/w54bW/f
Getting started with RMarkdown  First, Niklas Wulms from the University Hospital, Münster will give an introduction to RMarkdown:
  He started using R in 2018 and learnt the advantages of using only one framework of free software and code.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="/2019/02/ccai_bootcamp_launch/">
                <h3 class="media-heading">Launching codecentric.AI Bootcamp course!</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Today, I am happy to announce the launch of our codecentric.AI Bootcamp!
This bootcamp is a free online course for everyone who wants to learn hands-on machine learning and AI techniques, from basic algorithms to deep learning, computer vision and NLP. However, the course language is German only, but for every chapter I did, you will find an English R-version here on my blog (see below for links).
Right now, the course is in beta phase, so we are happy about everyone who tests our content and leaves feedback.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         87 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('/images/autumn-2789234_1920.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" integrity="sha256-IFHWFEbU2/+wNycDECKgjIRSirRNIDp2acEB5fvdVRU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js" integrity="sha256-+mpyNVJsNt4rVXCw0F+pAOiB3YxmHgrbJsx4ecPuUaI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js" integrity="sha256-vMxgR/7FtLovVA+IPrR7+xTgIgARH7y9VZQnmmi0HDI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.js" integrity="sha256-N0qFUh7/9vLvia87dDndewmsgsyYoNkdA212tPc+2NI=" crossorigin="anonymous"></script>


<script src="/js/script-kr8dyqj6rb6ortyib7whfo9x9p6td6zo8t1v4fdz4ecx5kwybsdlmk1slygn.min.js"></script>


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>

  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2020\/09\/baby_weight_app\/';
          
            this.page.identifier = '\/2020\/09\/baby_weight_app\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'shirinsplayground';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

